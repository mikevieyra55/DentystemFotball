<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">   
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
        <link rel="stylesheet" 
              href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
                integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
        crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" 
                integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" 
        crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" 
                integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" 
        crossorigin="anonymous"></script> 
        <link href="../../../css/Dentystem.css" type="text/css" rel="stylesheet" />       
        <script>
            function ocultarDivAlert() {
                $("#divAlert").hide();
            }
        </script>
    </h:head>
    <body class="container">           
        <div id="divAlert" class="#{mbPermisos.objTransacion.classDivContainer}">            
            <div class="#{mbPermisos.objTransacion.classDiv}" role="alert" >
                <strong>#{mbPermisos.objTransacion.mensajeAlert}</strong> 
                <button class="#{mbPermisos.objTransacion.classButton}"  onclick="ocultarDivAlert();" />    
            </div>
        </div>
        <div class="container">  
            <h:form id="formMenus" >   
                <div class="container"> 
                    <h:outputLabel value="Perfil:"  />
                    <h:selectOneMenu class="form-control"
                                     binding="#{mbPermisos.uiSelectPerfil}"
                                     immediate="true">                           
                        <f:selectItems value="#{mbPermisos.listaPerfiles}" var="perfil" />  
                        <f:ajax listener="#{mbPermisos.actualizaCB}" render="example" />
                    </h:selectOneMenu>
                </div>
                <br /><br />
                <div class="form-group-sm" >
                    <h:dataTable id="example"
                                 class="table table-responsive table-striped"
                                 value="#{mbPermisos.listaPermisos}" 
                                 var="item" border="0" cellpadding="2"
                                 cellspacing="0" 
                                 headerClass="text-center"
                                 rowClasses="text-center"
                                 binding="#{mbPermisos.htmlDataTable}"
                                 >                      
                        <h:column>
                            <f:facet name="header">                       
                                Menu
                            </f:facet>
                            <h:outputText value="#{item.nombreMenu}"/>
                        </h:column>                           
                        <h:column>
                            <f:facet name="header">
                                SubMenu
                            </f:facet>
                            <h:outputText value="#{item.nombreSubMenu}"/>
                        </h:column>                         
                        <h:column>
                            <f:facet name="header">
                                Fecha Alta
                            </f:facet>
                            <h:outputText value="#{item.fechaDeAlta}"/>
                        </h:column> 
                        <h:column>
                            <f:facet name="header">
                                Elaborado por:
                            </f:facet>
                            <h:outputText value="#{item.nombreUsuario}"/>
                        </h:column> 
                        <h:column>
                            <f:facet name="header">
                                Activar/Desactivar
                            </f:facet>  
                            <h:commandLink                             
                                action="#{mbPermisos.activar}"
                                styleClass="#{item.classActivo}">            
                                <i class="#{item.iconActivo}"></i>                            
                            </h:commandLink>
                        </h:column>                        
                    </h:dataTable> 
                </div>
            </h:form>
        </div>        
    </body>
</html>