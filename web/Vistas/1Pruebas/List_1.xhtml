<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui" >
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>        
        <link rel="stylesheet" 
              href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
                integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
        crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" 
                integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" 
        crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" 
                integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" 
        crossorigin="anonymous"></script> 
        <link href="../../../css/Dentystem.css" type="text/css" rel="stylesheet" />
        <script>
            function ocultarDivAlert() {
                $("#divAlert").hide();
            }
        </script>
    </h:head>
    <body>
        <div id="divAlert" class="#{mbUsuarios.objTransacion.classDivContainer}">            
            <div class="#{mbUsuarios.objTransacion.classDiv}" role="alert" >
                <strong>#{mbUsuarios.objTransacion.mensajeAlert}</strong> 
                <button class="#{mbUsuarios.objTransacion.classButton}"  onclick="ocultarDivAlert();" />    
            </div>
        </div>
        <div class="container"> 
            <h:form id="formUsuarios">     
                <div class="container"> 
                    <h:commandLink                        
                        action="#{mbUsuarios.nuevo}" 
                        styleClass="btn btn-success">
                        <i class="glyphicon glyphicon-th-list"></i>
                        Nuevo Usuario
                    </h:commandLink>
                </div>
                <div class="container-fluid text-center" >
                    <p:dataTable class="table table-striped text-center"
                                 var="item" 
                                 value="#{mbUsuarios.listaUsuarios}" 
                                 binding="#{mbUsuarios.table}" paginator="true" rows="10"
                                 widgetVar="solicitudTable"                                      
                                 rowKey="#{item.idUsuario}"                                 >   
                        <p:column>
                            <f:facet name="header">
                                Nombres
                            </f:facet>
                            <h:outputText value="#{item.nombres}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Apellidos
                            </f:facet>
                            <h:outputText value="#{item.apellidos}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Celular
                            </f:facet>
                            <h:outputText value="#{item.celular}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Correo
                            </f:facet>
                            <h:outputText value="#{item.correo}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Fecha De Nacimiento
                            </f:facet>
                            <h:outputText value="#{item.fechaDeNacimiento}"/>                           
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Fecha Alta
                            </f:facet>
                            <h:outputText value="#{item.fechaDeAlta}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Activo
                            </f:facet>
                            <h:outputText value="#{item.activo}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Usuario
                            </f:facet>
                            <h:outputText value="#{item.usuario}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Perfil
                            </f:facet>
                            <h:outputText value="#{item.idPerfil}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Domicilio
                            </f:facet>
                            <h:outputText value="#{item.domicilio}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                C.P.
                            </f:facet>
                            <h:outputText value="#{item.codigoPostal}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Estado
                            </f:facet>
                            <h:outputText value="#{item.nombreEstado}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Municipio
                            </f:facet>
                            <h:outputText value="#{item.nombreMunicipio}"/>
                        </p:column>                       
                        <p:column>
                            <f:facet name="header">
                                Password
                            </f:facet>
                            <h:outputText value="#{item.password}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                Activar/Desactivar
                            </f:facet>  
                            <h:commandLink                             
                                action="#{mbUsuarios.activar}"
                                styleClass="#{item.classActivo}">            
                                <i class="#{item.iconActivo}"></i>                            
                            </h:commandLink>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Editar"/>
                            </f:facet>                           
                            <h:commandLink style="alignment-adjust: central"                          
                                           action="#{mbUsuarios.editar}"
                                           styleClass="btn btn-default btn-sm">          
                                <i class="glyphicon glyphicon-edit btn-lg"></i>                            
                            </h:commandLink>
                        </p:column>
                    </p:dataTable> 
                </div>
            </h:form>
        </div>
    </body>
</html>
